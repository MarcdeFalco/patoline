<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Permap (patoline.Permap)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">patoline</a> &#x00BB; Permap</nav><h1>Module <code>Permap</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code></dt><dd><p>Abstract representation of a permanent map (stored in a file).</p></dd></dl><dl><dt class="spec value" id="val-new_map"><a href="#val-new_map" class="anchor"></a><code><span class="keyword">val </span>new_map : string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>new_map file</code> creates a new map file named <code>file</code>. If <code>file</code> already exists, then exception <code>Invalid_argument</code> is raised.</p></dd></dl><dl><dt class="spec value" id="val-open_map"><a href="#val-open_map" class="anchor"></a><code><span class="keyword">val </span>open_map : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_map file</code> opens a map file previously created using <code>new_map</code>. If <code>file</code> does not exist, the exception <code>Invalid_argument</code> is raised.</p></dd></dl><dl><dt class="spec value" id="val-close_map"><a href="#val-close_map" class="anchor"></a><code><span class="keyword">val </span>close_map : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>close_map m</code> closes a map previously opened with <code>open_map</code>. This operation does not seem to be necessary, but it is probably a good idea to use it anyway.</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val </span>add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add m k v</code> adds the value <code>v</code> with the key <code>k</code> to the map <code>m</code>. It is the user's responsibility not to add a value with an already existing key. Doing so will lead to an unspecified behaviour. If you are not sure whether a key is mapped or not, use the function <code>set</code>.</p></dd></dl><dl><dt class="spec value" id="val-add_many"><a href="#val-add_many" class="anchor"></a><code><span class="keyword">val </span>add_many : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span>) list <span>&#45;&gt;</span> unit</code></dt><dd><p><code>add_many m l</code> is equivalent to <code>List.iter (fun (k, v) -&gt; add m k v) l</code> but it is a lot faster. On should prefer this function over add when adding more than a few entries. One should consider using the <code>compact</code> function after adding many entries as it might significantly reduce the size of the map file.</p></dd></dl><dl><dt class="spec value" id="val-del"><a href="#val-del" class="anchor"></a><code><span class="keyword">val </span>del : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>del m k</code> deletes the entry with the key <code>k</code> from the map <code>m</code> when it exists.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val </span>set : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>set m k v</code> replaces the entry with the key <code>k</code> from the map <code>m</code> with the value <code>v</code>. This function behaves as <code>add</code> if no value with the key <code>k</code> is in the map.</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val </span>get : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>get m k</code> retreave the value associated to the key <code>k</code> in the map <code>m</code>. If no value is mapped to <code>k</code>, the exception <code>Not_found</code> is raised.</p></dd></dl><dl><dt class="spec value" id="val-compact"><a href="#val-compact" class="anchor"></a><code><span class="keyword">val </span>compact : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>compact m</code> reduces the size of the given map if possible.</p></dd></dl></div></body></html>
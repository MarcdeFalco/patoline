<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Patoraw__Driver (patoline.Patoraw__Driver)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">patoline</a> &#x00BB; Patoraw__Driver</nav><h1>Module <code>Patoraw__Driver</code></h1><p>* Common structures and functions used to implement Patoline drivers. * * A <em>driver</em> in Patoline implements the very last part of the * document processing, after the document content has been typeset and * arranged into an array of pages. The driver is responsible of * serializing the content to some output medium, such as a PDF * document, a SVG image, or even displaying the content on screen.</p></header><dl><dt class="spec type" id="type-page"><a href="#type-page" class="anchor"></a><code><span class="keyword">type </span>page</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-page.size" class="anchored"><td class="def field"><a href="#type-page.size" class="anchor"></a><code><span class="keyword">mutable </span>size : float<span class="keyword"> * </span>float;</code></td><td class="doc"><p>Size of a page, given as a pair of floats <code>(width, height)</code> * expressed in millimeters.</p></td></tr><tr id="type-page.contents" class="anchored"><td class="def field"><a href="#type-page.contents" class="anchor"></a><code><span class="keyword">mutable </span>contents : <a href="../Patoraw/RawContent/index.html#type-raw">Patoraw.RawContent.raw</a> list;</code></td><td class="doc"><p>Typeset content belonging to the page.</p></td></tr></table><code>}</code></dt><dd><p>Type of a single page.</p></dd></dl><dl><dt class="spec value" id="val-empty_page"><a href="#val-empty_page" class="anchor"></a><code><span class="keyword">val </span>empty_page : (float<span class="keyword"> * </span>float) <span>&#45;&gt;</span> <a href="index.html#type-page">page</a></code></dt><dd><p>Creates an empty page of the given size.</p></dd></dl><dl><dt class="spec value" id="val-make_page"><a href="#val-make_page" class="anchor"></a><code><span class="keyword">val </span>make_page : (float<span class="keyword"> * </span>float) <span>&#45;&gt;</span> <a href="../Patoraw/RawContent/index.html#type-raw">Patoraw.RawContent.raw</a> list <span>&#45;&gt;</span> <a href="index.html#type-page">page</a></code></dt><dd><p>Build a page with the given size and contents.</p></dd></dl><dl><dt class="spec type" id="type-meta_field"><a href="#type-meta_field" class="anchor"></a><code><span class="keyword">type </span>meta_field</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-meta_field.Contributor" class="anchored"><td class="def constructor"><a href="#type-meta_field.Contributor" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Contributor</span></code></td></tr><tr id="type-meta_field.Coverage" class="anchored"><td class="def constructor"><a href="#type-meta_field.Coverage" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Coverage</span></code></td></tr><tr id="type-meta_field.Creator" class="anchored"><td class="def constructor"><a href="#type-meta_field.Creator" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Creator</span></code></td></tr><tr id="type-meta_field.Date" class="anchored"><td class="def constructor"><a href="#type-meta_field.Date" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Date</span></code></td></tr><tr id="type-meta_field.Description" class="anchored"><td class="def constructor"><a href="#type-meta_field.Description" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Description</span></code></td></tr><tr id="type-meta_field.Format" class="anchored"><td class="def constructor"><a href="#type-meta_field.Format" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Format</span></code></td></tr><tr id="type-meta_field.Identifier" class="anchored"><td class="def constructor"><a href="#type-meta_field.Identifier" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Identifier</span></code></td></tr><tr id="type-meta_field.Language" class="anchored"><td class="def constructor"><a href="#type-meta_field.Language" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Language</span></code></td></tr><tr id="type-meta_field.Publisher" class="anchored"><td class="def constructor"><a href="#type-meta_field.Publisher" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Publisher</span></code></td></tr><tr id="type-meta_field.Relation" class="anchored"><td class="def constructor"><a href="#type-meta_field.Relation" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Relation</span></code></td></tr><tr id="type-meta_field.Rights" class="anchored"><td class="def constructor"><a href="#type-meta_field.Rights" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Rights</span></code></td></tr><tr id="type-meta_field.Source" class="anchored"><td class="def constructor"><a href="#type-meta_field.Source" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Source</span></code></td></tr><tr id="type-meta_field.Subject" class="anchored"><td class="def constructor"><a href="#type-meta_field.Subject" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Subject</span></code></td></tr><tr id="type-meta_field.Title" class="anchored"><td class="def constructor"><a href="#type-meta_field.Title" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Title</span></code></td></tr><tr id="type-meta_field.Type" class="anchored"><td class="def constructor"><a href="#type-meta_field.Type" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Type</span></code></td></tr></table></dt><dd><p>Available metadata fields to appear in the structure of the document.</p></dd></dl><dl><dt class="spec type" id="type-structure"><a href="#type-structure" class="anchor"></a><code><span class="keyword">type </span>structure</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-structure.name" class="anchored"><td class="def field"><a href="#type-structure.name" class="anchor"></a><code><span class="keyword">mutable </span>name : string;</code></td></tr><tr id="type-structure.metadata" class="anchored"><td class="def field"><a href="#type-structure.metadata" class="anchor"></a><code><span class="keyword">mutable </span>metadata : (<a href="index.html#type-meta_field">meta_field</a><span class="keyword"> * </span>string) list;</code></td></tr><tr id="type-structure.raw_name" class="anchored"><td class="def field"><a href="#type-structure.raw_name" class="anchor"></a><code><span class="keyword">mutable </span>raw_name : <a href="../Patoraw/RawContent/index.html#type-raw">Patoraw.RawContent.raw</a> list;</code></td></tr><tr id="type-structure.tags" class="anchored"><td class="def field"><a href="#type-structure.tags" class="anchor"></a><code><span class="keyword">mutable </span>tags : (string<span class="keyword"> * </span>string) list;</code></td></tr><tr id="type-structure.page" class="anchored"><td class="def field"><a href="#type-structure.page" class="anchor"></a><code><span class="keyword">mutable </span>page : int;</code></td></tr><tr id="type-structure.struct_x" class="anchored"><td class="def field"><a href="#type-structure.struct_x" class="anchor"></a><code><span class="keyword">mutable </span>struct_x : float;</code></td></tr><tr id="type-structure.struct_y" class="anchored"><td class="def field"><a href="#type-structure.struct_y" class="anchor"></a><code><span class="keyword">mutable </span>struct_y : float;</code></td></tr><tr id="type-structure.children" class="anchored"><td class="def field"><a href="#type-structure.children" class="anchor"></a><code><span class="keyword">mutable </span>children : <a href="index.html#type-structure">structure</a> array;</code></td></tr></table><code>}</code></dt><dd><p>Type representing the structure of a document. It contains metadata * but also position of sections and chapters.</p></dd></dl><dl><dt class="spec value" id="val-empty_structure"><a href="#val-empty_structure" class="anchor"></a><code><span class="keyword">val </span>empty_structure : <a href="index.html#type-structure">structure</a></code></dt><dd><p>Dummy structure with no information.</p></dd></dl><dl><dt class="spec value" id="val-print_structure"><a href="#val-print_structure" class="anchor"></a><code><span class="keyword">val </span>print_structure : <a href="index.html#type-structure">structure</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Debuging function which prints to stdout the given structure.</p></dd></dl><dl><dt class="spec module-type" id="module-type-OutputDriver"><a href="#module-type-OutputDriver" class="anchor"></a><code><span class="keyword">module type </span><a href="module-type-OutputDriver/index.html">OutputDriver</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface of a Patoline driver.</p></dd></dl><dl><dt class="spec value" id="val-output_to_prime"><a href="#val-output_to_prime" class="anchor"></a><code><span class="keyword">val </span>output_to_prime : (?&#8288;structure:<a href="index.html#type-structure">structure</a> <span>&#45;&gt;</span> <a href="index.html#type-page">page</a> array <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> ?&#8288;structure:<a href="index.html#type-structure">structure</a> <span>&#45;&gt;</span> <a href="index.html#type-page">page</a> array array <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p>Function providing a more or less cannonical way of builing an <code>output'</code> * function given an <code>output</code> function.</p></dd></dl><dl><dt class="spec value" id="val-output_from_prime"><a href="#val-output_from_prime" class="anchor"></a><code><span class="keyword">val </span>output_from_prime : (?&#8288;structure:<a href="index.html#type-structure">structure</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array array <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> ?&#8288;structure:<a href="index.html#type-structure">structure</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> array <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p>Similar to <code>output_to_prime</code>, but going the other direction.</p></dd></dl><dl><dt class="spec value" id="val-input_bin"><a href="#val-input_bin" class="anchor"></a><code><span class="keyword">val </span>input_bin : string option Stdlib.ref</code></dt><dd><p>File name of an alternative pre-compiled input.</p><p>When using the <a href="../Bin/index.html"><code>Bin</code></a> driver, the final typeset document * content is saved as marshalled content. It can be loaded later and * fed to another driver which outputs the actual document without * rebuilding the whole document. This reference holds the name of the * file which holds the marshalled content. When it is not <code>None</code>, most * formats prefer to load this content instead of doing the whole * document optimisation (the marshalled content is loaded even if the * source document has changed).</p></dd></dl><dl><dt class="spec value" id="val-driver"><a href="#val-driver" class="anchor"></a><code><span class="keyword">val </span>driver : string option Stdlib.ref</code></dt><dd><p>Name of the driven used to compile the current document.</p><p>This value is usually set using the <code>&quot;--driver&quot;</code> command-line option when running patoline.</p></dd></dl></div></body></html>
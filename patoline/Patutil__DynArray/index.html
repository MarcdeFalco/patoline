<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Patutil__DynArray (patoline.Patutil__DynArray)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">patoline</a> &#x00BB; Patutil__DynArray</nav><h1>Module <code>Patutil__DynArray</code></h1><p>Dynamic arrays</p><p>A dynamic array behaves like an ordinary array, except that it can grow on demand. It is implemented as a regular OCaml array, except that any write attempt beyond the end of the array triggers the allocation of a new array, whose size is twice the size of the current array. This new array replaces the old one.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>'a t</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-t.data" class="anchored"><td class="def field"><a href="#type-t.data" class="anchor"></a><code><span class="keyword">mutable </span>data : <span class="type-var">'a</span> array;</code></td></tr><tr id="type-t.length" class="anchored"><td class="def field"><a href="#type-t.length" class="anchor"></a><code><span class="keyword">mutable </span>length : int;</code></td></tr><tr id="type-t.default_value" class="anchored"><td class="def field"><a href="#type-t.default_value" class="anchor"></a><code>default_value : <span class="type-var">'a</span>;</code></td></tr></table><code>}</code></dt><dd><p>Type of dynamic arrays. A dynamic array stores a defaut value of type <code>'a</code>, which is used to initialize objects when expanding arrays.</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val </span>make : int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Creating a new array, which initially has <code>n</code> elements</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val </span>get : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Retrieve the element stored at index <code>i</code>. Returns the array default value if index <code>i</code> is beyond the end of the array.</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val </span>set : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Sets the value of the element at index <code>i</code>, possibly resizing the array if needed.</p></dd></dl><dl><dt class="spec value" id="val-length"><a href="#val-length" class="anchor"></a><code><span class="keyword">val </span>length : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Gets the actual number of elements stored in the array, which is always smaller than the number of available slots in memory. This always corresponds to <code>i+1</code> where <code>i</code> is the maximal index ever given to a call to <a href="index.html#val-set"><code>set</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val </span>append : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Appends a new element after the last one</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val </span>empty : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Reset the dynamic length to zero, without actually freeing slots.</p></dd></dl><dl><dt class="spec value" id="val-slots_length"><a href="#val-slots_length" class="anchor"></a><code><span class="keyword">val </span>slots_length : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Returns the size of the actual OCaml array. This corresponds to the number of available slots which can be filled before <a href="index.html#val-set"><code>set</code></a> needs to reallocate a new array.</p></dd></dl></div></body></html>